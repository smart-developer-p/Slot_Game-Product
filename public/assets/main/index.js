System.register("chunks:///_virtual/BonusReel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Symbol.ts","./utils.ts"],(function(e){var n,i,t,o,s,a,r,l,u,c,h,b,p,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.Prefab,l=e.instantiate,u=e.UITransform,c=e.Vec3,h=e.tween,b=e.Component},function(e){p=e.Symbol},function(e){d=e.getRandomBonusSymbol}],execute:function(){var m,g,y,f,v,S,D;s._RF.push({},"93428oKARBBoYQNxMA2eRlU","BonusReel",void 0);var R=a.ccclass,C=a.property;e("BonusReel",(m=R("BonusReel"),g=C(r),m((v=n((f=function(e){function n(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,t(n,"SymbolPrefab",v,o(n)),n.maxSpeed=2e3,n.minSpeed=800,n.speeds=[2e3,3e3,4e3],n.symbolHeight=0,n.isSpinning=!1,n.resultData=void 0,n.isRunning=!1,t(n,"bounceDistance",S,o(n)),t(n,"bounceDuration",D,o(n)),n.symbolNode=void 0,n}i(n,e);var s=n.prototype;return s.onLoad=function(){this.node.removeAllChildren();for(var e=0;e<3;e++){var n=l(this.SymbolPrefab);this.symbolHeight=n.getComponent(u).height,this.node.addChild(n),n.setPosition(new c(0,-this.symbolHeight*e+2*this.symbolHeight,0));var i=d(e);n.getComponent(p).bindData(i,!1)}},s.spinReel=function(e){var n=this;if(!this.isSpinning&&!this.isRunning){this.isSpinning=!0;var i=this.node.getComponent(u).height;this.node.children.forEach((function(e){var n=e.getComponent(p);n.symbolValue&&n.bindData(n.symbolValue,!0)}));var t=this.minSpeed;this.isRunning=!0;var o=0;this.schedule((function(){t<n.maxSpeed?t+=(n.maxSpeed-t)/10:t=n.maxSpeed;for(var s=0;s<n.node.children.length;s++){var a=n.node.children[s],r=a.position;n.isRunning&&(a.setPosition(r.x,r.y-.016*t,r.z),r.y<-i&&(a.setPosition(new c(0,2*n.symbolHeight,0)),n.isSpinning?a.getComponent(p).bindData(d(0),!0):(0===o?(a.getComponent(p).bindData(n.resultData,!0),n.symbolNode=n.resultData?a:null):2===o&&(n.isRunning=!1,n.unscheduleAllCallbacks(),n.node.children.sort((function(e,n){return n.position.y-e.position.y})).forEach((function(e,i){var t=e.getComponent(p);t.bindData(t.symbolValue,!1),e.position=new c(0,-n.symbolHeight*i+2*n.symbolHeight,0)})),h(n.node).by(n.bounceDuration,{position:new c(0,-n.bounceDistance,0)}).by(n.bounceDuration,{position:new c(0,n.bounceDistance,0)}).call((function(){e()})).start()),o++)))}}),.016)}},s.stopSpin=function(e){this.resultData=e,this.isSpinning=!1},s.initReel=function(e){this.node.removeAllChildren();for(var n=0;n<3;n++){var i=l(this.SymbolPrefab);this.symbolHeight=i.getComponent(u).height,this.node.addChild(i),i.setPosition(new c(0,-this.symbolHeight*n+2*this.symbolHeight,0));var t=d(n);2==n?(i.getComponent(p).bindData(e,!1),this.symbolNode=i):i.getComponent(p).bindData(t,!1)}},s.getSymbol=function(){return this.symbolNode},s.changeReelSpeed=function(e){this.maxSpeed=this.speeds[e]},n}(b)).prototype,"SymbolPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(f.prototype,"bounceDistance",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),D=n(f.prototype,"bounceDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),y=f))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/BonusSpinCount.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,e,o,r,s,u,a,c,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,u=t.Node,a=t.UITransform,c=t.tween,h=t.Component}],execute:function(){var p,l,w,d,f;r._RF.push({},"cf7b9iubBNHQ4cI7WhXk4X8","BonusSpinCount",void 0);var v=s.ccclass,C=s.property;t("BonusSpinCount",(p=v("BonusSpinCount"),l=C(u),p((f=n((d=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,e(n,"view",f,o(n)),n.width=0,n.currentCount=3,n}i(n,t);var r=n.prototype;return r.start=function(){},r.onEnable=function(){0===this.width&&(this.width=this.view.getComponent(a).width)},r.setCount=function(t,n){var i=this.currentCount-t;this.currentCount=t;var e=this.view.getComponent(a);n?Math.abs(i)>0&&c(e).to(.5,{width:this.width/3*t},{easing:"smooth"}).start():e.width=this.width},n}(h)).prototype,"view",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=d))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/ControlView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./Types.ts","./utils.ts","./GameEngine.ts"],(function(t){var e,o,i,n,a,r,l,s,u,c,h,B,d,p,b,g,f,m,A,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Canvas,s=t.Node,u=t.Label,c=t.Button,h=t.UIOpacity,B=t.Sprite,d=t.Color,p=t.tween,b=t.Vec3,g=t.Component},function(t){f=t.GameView},function(t){m=t.BetAmounts},function(t){A=t.renderNumber},function(t){C=t.GameEngine}],execute:function(){var M,w,v,y,S,E,z,P,V,x,k,G,T,L,I,_,D,J,N,F,R,U,H,O,j,q,W;a._RF.push({},"c6a02/c3DdEkqe16LHJeuyb","ControlView",void 0);var K=r.ccclass,Q=r.property;t("ControlView",(M=K("ControlView"),w=Q(f),v=Q(l),y=Q(s),S=Q(s),E=Q(s),z=Q(u),P=Q(u),V=Q(u),x=Q(c),k=Q(c),G=Q(u),T=Q(c),M((_=e((I=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"gameViewJs",_,n(e)),i(e,"gameEngine",D,n(e)),i(e,"BetAmountChangerModal",J,n(e)),i(e,"AutoBetSetModal",N,n(e)),i(e,"SliderBar",F,n(e)),i(e,"AutoBetCounts",R,n(e)),e.visibleBetAmountModal=!1,e.visibleAutoBetSetModal=!1,e.autoBetCount=50,e.isAutoBet=!1,i(e,"BetAmount",U,n(e)),i(e,"TotalBet",H,n(e)),i(e,"Plus",O,n(e)),i(e,"Minus",j,n(e)),i(e,"Credit",q,n(e)),i(e,"BetButtton",W,n(e)),e}o(e,t);var a=e.prototype;return a.init=function(t,e){this.changeCredit(t),this.updateBetAmount(e),this.changePlayable(t>m[e])},a.changePlayable=function(t){if(!this.isAutoBet){this.BetButtton.interactable=t,this.BetButtton.getComponent(h)&&(this.BetButtton.getComponent(h).opacity=t?255:155);var e=this.Minus.node.getComponent(B);t&&!this.gameViewJs.isAutoBet?(e&&(e.color=new d(e.color.r,e.color.g,e.color.b,255)),this.Minus.interactable=!0,this.Plus.interactable=!0):(this.Minus.interactable=!1,this.Plus.interactable=!1,e&&(e.color=new d(e.color.r,e.color.g,e.color.b,128)))}},a.updateBetAmount=function(t){var e=m[t];this.BetAmount.string=A(e),this.TotalBet.string=A(e);var o=this.Minus.node.getComponent(B),i=this.Plus.node.getComponent(B);0===t?(this.Minus.interactable=!1,o&&(o.color=new d(o.color.r,o.color.g,o.color.b,128))):(o&&(o.color=new d(o.color.r,o.color.g,o.color.b,255)),this.Minus.interactable=!0),t===m.length-1||m[t+1]>parseInt(this.Credit.string)?(this.Plus.interactable=!1,i&&(i.color=new d(i.color.r,i.color.g,i.color.b,128))):(this.Plus.interactable=!0,i&&(i.color=new d(i.color.r,i.color.g,i.color.b,255)))},a.changeCredit=function(t){this.Credit.string=A(t)},a.changeAutoBet=function(t){},a.changeLastWin=function(t){},a.showBetAmountChangeModal=function(){this.isAutoBet||(this.visibleBetAmountModal?this.closeModal():(p(this.BetAmountChangerModal).to(.2,{position:new b(this.BetAmountChangerModal.position.x,50,0)}).to(.1,{position:new b(this.BetAmountChangerModal.position.x,0,0)}).start(),this.visibleBetAmountModal=!0))},a.showAutoSpinSetModal=function(){this.isAutoBet||(this.visibleAutoBetSetModal?this.closeModal():(this.BetButtton.node.children.forEach((function(t,e){t.active=1===e})),p(this.AutoBetSetModal).to(.2,{position:new b(this.AutoBetSetModal.position.x,50,0)}).to(.1,{position:new b(this.AutoBetSetModal.position.x,0,0)}).start(),this.visibleAutoBetSetModal=!0))},a.onChangeSlider=function(t){var e=t._progress,o=Math.round(1e3*e/9);if(this.SliderBar.position=new b(254*e-130,this.SliderBar.position.y,0),o>100)this.AutoBetCounts.string="UNTIL FEATURE",this.autoBetCount=1/0;else{var i=0;switch(!0){case o<5:i=5;break;case o<10:i=10;break;case o<20:i=20;break;case o<50:i=50;break;case o<100:i=100}this.autoBetCount=i,this.AutoBetCounts.string=i+" SPINS"}},a.onClickBetButton=function(){var t=this;if(this.isAutoBet)return this.gameEngine.getComponent(C).startGame(0),this.BetButtton.node.children.forEach((function(t,e){t.active=0===e})),this.isAutoBet=!1,void this.BetButtton.node.children.forEach((function(t,e){t.active=0===e}));this.visibleAutoBetSetModal?(this.BetButtton.node.children.forEach((function(t,e){t.active=0===e})),p(this.AutoBetSetModal).to(.2,{position:new b(this.AutoBetSetModal.position.x,-1e3,0)}).start(),this.isAutoBet=!0,this.updateAutoBetCount(this.autoBetCount),this.visibleAutoBetSetModal=!1,this.scheduleOnce((function(){t.gameEngine.getComponent(C).startGame(t.autoBetCount)}),.5)):this.gameEngine.getComponent(C).startGame()},a.updateAutoBetCount=function(t){console.log("autobet count",t),t>0?(this.isAutoBet=!0,this.BetButtton.node.children.forEach((function(t,e){t.active=2===e}))):(this.BetButtton.node.children.forEach((function(t,e){t.active=0===e})),this.isAutoBet=!1,this.BetButtton.node.children.forEach((function(t,e){t.active=0===e})));try{t!==1/0?this.BetButtton.node&&(this.BetButtton.node.children[2].children[1].children[0].getComponent(u).string=t.toString()):this.BetButtton.node.children.forEach((function(t,e){t.active=3===e}))}catch(t){}},a.closeModal=function(){this.visibleAutoBetSetModal=!1,this.visibleBetAmountModal=!1,this.isAutoBet=!1,this.BetButtton.node.children.forEach((function(t,e){t.active=0===e})),p(this.AutoBetSetModal).to(.2,{position:new b(this.AutoBetSetModal.position.x,-1e3,0)}).start(),p(this.BetAmountChangerModal).to(.2,{position:new b(this.AutoBetSetModal.position.x,-1e3,0)}).start()},e}(g)).prototype,"gameViewJs",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(I.prototype,"gameEngine",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(I.prototype,"BetAmountChangerModal",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(I.prototype,"AutoBetSetModal",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(I.prototype,"SliderBar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(I.prototype,"AutoBetCounts",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(I.prototype,"BetAmount",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(I.prototype,"TotalBet",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(I.prototype,"Plus",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(I.prototype,"Minus",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(I.prototype,"Credit",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(I.prototype,"BetButtton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=I))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/FetchProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime,n=e.extends},function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"e3ad5HZJU9L9pd+1krYsMKg","FetchProvider",void 0);var s="http://"+location.hostname+":5000/api";e("fetchProvide",function(){var e=t(r().mark((function e(t,o,c,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.includes("http")){e.next=5;break}return e.abrupt("return",fetch(""+t,{method:o,headers:n({"Content-Type":"application/json"},a),body:c?JSON.stringify(c):""}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})));case 5:return e.abrupt("return",fetch(""+s+t,{method:o,headers:n({"Content-Type":"application/json"},a),body:c?JSON.stringify(c):""}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,n,o){return e.apply(this,arguments)}}());o._RF.pop()}}}));

System.register("chunks:///_virtual/GameEngine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./Types.ts","./FetchProvider.ts","./Store.ts"],(function(t){var e,n,i,o,a,s,u,r,c,l,m,h,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,r=t._decorator,c=t.CCString,l=t.Component},function(t){m=t.GameView},function(t){h=t.BetAmounts},function(t){f=t.fetchProvide},function(t){g=t.Store}],execute:function(){var p,d,b,y,A,w,J,v;u._RF.push({},"77c2bdLVodJfbjph5gxpDYf","GameEngine",void 0);var V=r.ccclass,C=r.property;t("GameEngine",(p=V("GameEngine"),d=C(m),b=C(c),p(((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"gameViewJs",w,o(e)),i(e,"accessToken",J,o(e)),e.credit=123e4,e.betAmount=7,e.autobetCount=0,e.stickedSymbols=[],e}n(e,t);var u=e.prototype;return u.onLoad=function(){this.gameViewJs.init(this.credit,this.betAmount),g.getInstance().dispatch({type:"UPDATE_AMOUNT",payload:this.betAmount})},u.start=function(){},u.update=function(t){},u.canPlay=function(){return this.credit>h[this.betAmount]},u.createGame=function(){var t=a(s().mark((function t(){var n,i,o,a,u,r,c=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.credit-=h[this.betAmount],this.gameViewJs.changeCredit(this.credit),n={},i=!1,u=0,this.gameViewJs.startGame((function(){var t=function(){if(n.totalPayout&&(c.credit+=n.totalPayout*h[c.betAmount],c.gameViewJs.changeCredit(c.credit),c.gameViewJs.changeLastWin(n.totalPayout*h[c.betAmount]),c.gameViewJs.displayGameResult(n)),i&&r&&(c.credit+=r.totalWin*h[c.betAmount],c.gameViewJs.changeCredit(c.credit),c.gameViewJs.changeLastWin(r.totalWin*h[c.betAmount])),!c.canPlay())return c.autobetCount=0,void c.gameViewJs.changePlayable(!1);c.gameViewJs.changePlayable(!0),c.gameViewJs.updateAutoBetCount(c.autobetCount),c.autobetCount&&(c.autobetCount--,c.scheduleOnce((function(){c.createGame()}),e.timeDelayOnAutoBet))};i?c.scheduleOnce((function(){c.startBonusGame(u,o,(function(){t()}))}),2):t()})),f("/games/sunny-fruits/play","POST",{betAmount:this.betAmount},{Authorization:"Bearer "+this.accessToken}).then((function(t){if(console.log(JSON.stringify(t),"===========>"),t.success){var e,s,l=t.data;n=l.gameResult,i=l.bonusCheck.isBonusTriggered,o=(null==(e=l.bonusResult)?void 0:e.reels)||[],a=l.reels,r=l.bonusResult,u=(null==(s=l.bonusResult)?void 0:s.spinCounts)||0,c.gameViewJs.stopGame(JSON.parse(JSON.stringify(a)))}})).catch((function(t){console.log(t)}));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.startBonusGame=function(t,e,n){for(var i=this,o=[],a=function(t){for(var n=[],i=0;i<e.length;i++){var a=e[i];n.push(a.map((function(e){return e?null!=e&&e.spinCounts||0!=t?e.spinCounts===t?e:null:e:null})))}o.push(n)},s=0;s<t;s++)a(s);this.gameViewJs.startBonusGame(o,(function(){i.scheduleOnce((function(){n(),i.gameViewJs.hideBonusGame()}),2)}))},u.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},u.controlBetAmount=function(t,e){h[this.betAmount+parseInt(e)]&&(this.betAmount+=parseInt(e),g.getInstance().dispatch({type:"UPDATE_AMOUNT",payload:this.betAmount}),this.gameViewJs.updateBetAmount(this.betAmount))},u.startGame=function(t){0===t?this.autobetCount=0:(t&&(this.autobetCount=--t,console.log({autobet:t})),this.createGame())},e}(l)).timeDelayOnAutoBet=1,w=e((A=v).prototype,"gameViewJs",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(A.prototype,"accessToken",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=A))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/GameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Types.ts","./Reel.ts","./BonusReel.ts","./Symbol.ts","./utils.ts","./BonusSpinCount.ts","./ControlView.ts"],(function(e){var n,t,i,o,l,a,r,u,s,c,h,f,p,g,b,d,m,w,y,v,C,V,B,P,S;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Node,u=e.Prefab,s=e.Label,c=e.tween,h=e.Vec3,f=e.instantiate,p=e.UITransform,g=e.v2,b=e.UIOpacity,d=e.Component},function(e){m=e.SymbolTypes,w=e.BetAmounts,y=e.PAYLINES},function(e){v=e.Reel},function(e){C=e.BonusReel},function(e){V=e.Symbol},function(e){B=e.renderNumber},function(e){P=e.BonusSpinCount},function(e){S=e.ControlView}],execute:function(){var R,z,A,N,E,O,W,x,G,I,k,L,M,T,D,U,F,j,_,q,H,J,X,Y,K,Q,Z,$,ee,ne,te,ie,oe,le,ae,re,ue,se,ce;l._RF.push({},"6f3ccig/ulG8qDNXvSTb5D2","GameView",void 0);var he=a.ccclass,fe=a.property;e("GameView",(R=he("GameView"),z=fe(r),A=fe(r),N=fe(u),E=fe(u),O=fe(r),W=fe(s),x=fe(s),G=fe(s),I=fe(s),k=fe(u),L=fe(u),M=fe(r),T=fe(r),D=fe(r),U=fe(P),F=fe([r]),j=fe(r),_=fe(r),R((J=n((H=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return n=e.call.apply(e,[this].concat(l))||this,i(n,"GridView",J,o(n)),i(n,"ResultView",X,o(n)),i(n,"RealPrefab",Y,o(n)),i(n,"Fireball",K,o(n)),i(n,"Sparks",Q,o(n)),i(n,"grandPoint",Z,o(n)),i(n,"MajorPoint",$,o(n)),i(n,"MinorPoint",ee,o(n)),i(n,"MiniPoint",ne,o(n)),n.isAutoBet=!1,n.betAmount=1,i(n,"SymbolPrefab",te,o(n)),i(n,"WildPrefab",ie,o(n)),i(n,"BonusPanel",oe,o(n)),i(n,"BonusReelView",le,o(n)),i(n,"BonusStickView",ae,o(n)),i(n,"bonusSpinCountView",re,o(n)),i(n,"controlViews",ue,o(n)),i(n,"totalWin",se,o(n)),i(n,"sunNode",ce,o(n)),n}t(n,e);var l=n.prototype;return l.startGame=function(e){var n=this;void 0===e&&(e=function(){}),this.hideGameResult(),console.log("spinning----\x3e",Date.now()),this.changePlayable(!1),this.Sparks.removeAllChildren(),this.GridView.children.forEach((function(t,i){t.getComponent(v).spinReel((function(){var o=t.getComponent(v).resultTypes;t.children.forEach((function(e,t){var i=e.getComponent(V).symbolId;o.filter((function(e){return e===i})).length&&(i===m.BONUS||i===m.SUNBONUS)&&t>1&&n.showBonusParticle(e,void 0,(function(){c(n.sunNode).to(.07,{scale:new h(1.1,1.1,1)},{easing:"backIn"}).to(.15,{scale:new h(1,1,1)},{easing:"backOut"}).start()}))})),i===n.GridView.children.length-1&&(console.log("stopping----\x3e",Date.now()),e&&e())}))}))},l.showBonusParticle=function(e,n,t){var i=this,o=e.getChildByName("Node").getWorldPosition(),l=f(this.Fireball);this.Sparks.addChild(l);var a=new h;this.Sparks.inverseTransformPoint(a,o),l.setPosition(a);var r=this.Sparks.getComponent(p),u=new h;this.Sparks.inverseTransformPoint(u,n?n.getWorldPosition():this.Sparks.getWorldPosition()),n||u.add(function(e,n){void 0===e&&(e=90),void 0===n&&(n=90);var t=Math.random()*e-e/2,i=Math.random()*n-n/2;return new h(t,i)}(r.width,r.height));var s=u,g=l.position,b=[];this.getBezierRoute(g,s,b),c(l).to(.5,{position:b[2],eulerAngles:new h(0,0,-10)},{easing:"sineIn",progress:function(e,n,t,o){var a=i.calculateBezierPoint(o,b);return l.setPosition(a),e}}).call((function(){t&&t(),i.scheduleOnce((function(){l.removeFromParent()}),.3)})).start()},l.stopGame=function(e){var n=this;this.GridView.children.forEach((function(t,i){n.scheduleOnce((function(){t.getComponent(v).stopSpin(e[i])}),.8+.05*i)}))},l.startBonusGame=function(e,n){var t=this;void 0===n&&(n=function(){}),this.changePlayable(!1),this.BonusPanel.active=!0;for(var i=[].concat(e[0]),o=0;o<i.length;o++)for(var l=0;l<i[o].length;l++){var a=this.BonusReelView.children[3*o+l].children[0];i[o][l]&&a?a.getComponent(C).initReel(i[o][l]):a.getComponent(C).initReel(null)}var r=3,u=0;this.bonusSpinCountView.setCount(r,!1);var s=function(){for(var e=[],n=[],i=0;i<t.BonusReelView.children.length;i++){var o,l,a=t.BonusReelView.children[i].children[0].getComponent(C).getSymbol();if(a&&a.getComponent(V).symbolValue)null!=(o=a.getComponent(V).symbolValue)&&o.value||null!=(l=a.getComponent(V).symbolValue)&&l.isJackpot?n.push(a):e.push(a)}return{newSunSymbols:e,bonusSymbols:n}},c=0,h=!1,f=function i(){var o=s(),l=o.newSunSymbols,a=o.bonusSymbols,f=function e(n){if(a.length>0){var o=a.shift();t.showBonusParticle(o,n.getChildByName("Node")||n,(function(){n.getComponent(V)?n.getComponent(V).addValue(o.getComponent(V).symbolValue.value):(c+=o.getComponent(V).symbolValue.value,t.showTotalBonusWin(c,o.getComponent(V).symbolValue.value)),e(n)}))}else t.scheduleOnce((function(){i()}),.2)};l.length>0?f(l.shift()):u===e.length-1?h?n():(f(t.totalWin),h=!0):(r=3,t.bonusSpinCountView.setCount(r,!0),t.scheduleOnce((function(){p(e[u+1])}),.8))},p=function n(o){var l=0,a=0;u++,r--,t.bonusSpinCountView.setCount(r,!0);for(var s=!1,c=!1,h=function(h){for(var p=function(p){var g=t.BonusReelView.children[3*h+p].children[0];i[h][p]||(g.getComponent(C).spinReel((function(){o[h][p]&&(i[h][p]=o[h][p],s=!0,i[h][p].type==m.SUNBONUS&&(i[h][p].value=void 0,c=!0)),++a==l&&(c?f():(console.log(u,e.length-1),u===e.length-1?f():(s&&(r=3,t.bonusSpinCountView.setCount(r,!0)),t.scheduleOnce((function(){n(e[u+1])}),.8))))})),l++,t.scheduleOnce((function(){g.getComponent(C).stopSpin(o[h][p])}),.7+.01*h))},g=0;g<o[h].length;g++)p(g)},p=0;p<o.length;p++)h(p)};e.length>1?this.scheduleOnce((function(){s().newSunSymbols.length>0?f():p(e[u+1])}),.8):n()},l.showTotalBonusWin=function(e,n){this.totalWin.active=!0,this.totalWin.getChildByName("Label").getComponent(s).string=B(e*w[this.betAmount]),c(this.totalWin).to(.1,{scale:new h(1.1,1.1,1)},{easing:"bounceIn"}).to(.1,{scale:new h(1,1,1)},{easing:"bounceOut"}).start()},l.hideTotalBonusWin=function(){this.totalWin.active=!1},l.hideBonusGame=function(){this.BonusReelView.children.forEach((function(e){e.getChildByName("BonusReel").getComponent(C).onLoad()})),this.BonusStickView.children.forEach((function(e){e.removeAllChildren()})),this.BonusPanel.active=!1,this.changePlayable(!0),this.hideTotalBonusWin()},l.getBezierRoute=function(e,n,t){t.push(e);var i=g(0,0);i.x=-n.x+e.x,i.y=.2*(n.y-e.y),t.push(i),t.push(n)},l.calculateBezierPoint=function(e,n){var t=n[0],i=n[1],o=n[2],l=Math.pow(1-e,2)*t.x+2*(1-e)*e*i.x+Math.pow(e,2)*o.x,a=Math.pow(1-e,2)*t.y+2*(1-e)*e*i.y+Math.pow(e,2)*o.y;return new h(l,a,0)},l.init=function(e,n){this.betAmount=n,this.updateBetAmount(this.betAmount),this.changeCredit(e),this.changePlayable(e>w[n])},l.changeCredit=function(e){this.controlViews.forEach((function(n){n.getComponent(S).changeCredit(e)}))},l.changeLastWin=function(e){this.controlViews.forEach((function(n){n.getComponent(S).changeLastWin(e)}))},l.changePlayable=function(e){this.controlViews.forEach((function(n){n.getComponent(S).changePlayable(e)}))},l.updateBetAmount=function(e){if(w[e]){this.betAmount=e;var n=w[e];this.grandPoint.string=B(5e3*n),this.MajorPoint.string=B(150*n),this.MinorPoint.string=B(50*n),this.MiniPoint.string=B(25*n),this.controlViews.forEach((function(n){n.getComponent(S).updateBetAmount(e)}))}},l.changeAutoBet=function(e){this.isAutoBet=!!e,this.controlViews.forEach((function(n){n.getComponent(S).changeAutoBet(e)}))},l.displayGameResult=function(e){var n=this,t=w[this.betAmount],i=function(e,t){console.log(e,t,"show payline");var i=e+3;i>5&&(i%=5),n.ResultView.children.forEach((function(e,n){n===i&&c(e.getComponent(b)).to(.1,{opacity:t?255:0}).call((function(){e.active=t})).start()}))},o=function(e,t){console.log("show label",e,t),n.ResultView.getChildByName("Labels").children.forEach((function(n,i){t===i&&t<4||4===t&&3===i||5===t&&2===i?(n.getComponent(s).string=e,n.active=!0):n.active=!1}))},l=function(e,t,i){void 0===i&&(i=!0);var o=0;i&&n.ResultView.getChildByName("EffectView").children.forEach((function(e,n){e.removeAllChildren()})),n.ResultView.getChildByName("EffectView").children.forEach((function(i,l){for(var a=0;a<3;a++)if(d=3*l+a,y[t].indexOf(d)>=0&&o<e.length){var r=f(n.SymbolPrefab),u=r.getComponent(p).height;i.addChild(r),r.setPosition(new h(0,-u*a,0)),r.getComponent(V).bindData(e[o],!1);var s=r.getChildByName("Node");if(c(s).to(.4,{scale:new h(1.2,1.2,0)}).to(.4,{scale:new h(1,1,0)}).start(),e[o].type===m.WILD){var g=f(n.WildPrefab),b=g.getComponent(p).height;i.addChild(g),g.setPosition(new h(0,-u*(a+1)+b/2,0)),c(g).to(0,{scale:new h(0,0,0)}).to(.3,{scale:new h(1.3,1.3,0)}).to(.5,{scale:new h(1,1,0)}).start()}o++}var d}))};this.ResultView.active=!0;e.winningLines.forEach((function(e,t){console.log(e.lineIndex,"show line==>"),i(e.lineIndex,!0),n.scheduleOnce((function(){i(e.lineIndex,!1)}),2)})),o(B(e.totalPayout*t),0),e.winningLines.forEach((function(e,n){l(e.symbolsOnLine.slice(0,e.count),e.lineIndex,!n)}));var a=function(){e.winningLines.forEach((function(e,a){n.scheduleOnce((function(){i(e.lineIndex,!0),l(e.symbolsOnLine.slice(0,e.count),e.lineIndex),console.log("call visible label",e.payout,t),o(B(e.payout*t),e.lineIndex+1)}),2*a),n.scheduleOnce((function(){i(e.lineIndex,!1)}),2*(a+1)-.5)}))};this.scheduleOnce((function(){a(),n.schedule((function(){a()}),2*e.winningLines.length)}),2.5)},l.hideGameResult=function(){var e=this;this.ResultView.children.forEach((function(n,t){t&&t<e.ResultView.children.length-3&&(n.getComponent(b).opacity=0,n.active=!1)})),this.ResultView.active=!1,this.unscheduleAllCallbacks()},l.updateAutoBetCount=function(e){this.controlViews.forEach((function(n){n.getComponent(S).updateAutoBetCount(e)}))},n}(d)).prototype,"GridView",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(H.prototype,"ResultView",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(H.prototype,"RealPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(H.prototype,"Fireball",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=n(H.prototype,"Sparks",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=n(H.prototype,"grandPoint",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=n(H.prototype,"MajorPoint",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=n(H.prototype,"MinorPoint",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=n(H.prototype,"MiniPoint",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=n(H.prototype,"SymbolPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=n(H.prototype,"WildPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=n(H.prototype,"BonusPanel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=n(H.prototype,"BonusReelView",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=n(H.prototype,"BonusStickView",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=n(H.prototype,"bonusSpinCountView",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=n(H.prototype,"controlViews",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=n(H.prototype,"totalWin",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=n(H.prototype,"sunNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=H))||q));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BonusReel.ts","./BonusSpinCount.ts","./ControlView.ts","./FetchProvider.ts","./GameEngine.ts","./GameView.ts","./Reel.ts","./ResponsiveUI.ts","./Spark.ts","./Splash.ts","./Store.ts","./Symbol.ts","./Types.ts","./utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Reel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Symbol.ts","./utils.ts"],(function(e){var n,t,i,o,s,a,r,l,u,c,p,h,b,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.Prefab,l=e.instantiate,u=e.UITransform,c=e.Vec3,p=e.tween,h=e.Component},function(e){b=e.Symbol},function(e){d=e.generateRandomSymbol}],execute:function(){var g,f,m,y,D,S,v;s._RF.push({},"8dcd2FugMtDi4dy9Sa6yI9u","Reel",void 0);var R=a.ccclass,C=a.property;e("Reel",(g=R("Reel"),f=C(r),g((D=n((y=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,i(n,"SymbolPrefab",D,o(n)),n.maxSpeed=2e3,n.minSpeed=1e3,n.speeds=[3e3,4e3,5e3],n.resultTypes=[],n.resultData=[],n.symbolHeight=0,n.isSpinning=!1,n.isRunning=!1,i(n,"bounceDistance",S,o(n)),i(n,"bounceDuration",v,o(n)),n}t(n,e);var s=n.prototype;return s.onLoad=function(){for(var e=0;e<5;e++){var n=l(this.SymbolPrefab);this.symbolHeight=n.getComponent(u).height,this.node.addChild(n),n.setPosition(new c(0,-this.symbolHeight*e+2*this.symbolHeight,0)),n.getComponent(b).bindData(d(),!1)}},s.spinReel=function(e){var n=this;if(!this.isSpinning&&!this.isRunning){this.isSpinning=!0;var t=this.node.getComponent(u).height;this.node.children.forEach((function(e){var n=e.getComponent(b);n.bindData(n.symbolValue,!0)}));var i=0,o=this.minSpeed;this.isRunning=!0;this.schedule((function(){o<n.maxSpeed?o+=(n.maxSpeed-o)/10:o=n.maxSpeed;for(var s=0;s<n.node.children.length;s++){var a=n.node.children[s],r=a.position;if(n.isRunning&&(a.setPosition(r.x,r.y-.016*o,r.z),Math.abs(r.y)>t))if(a.setPosition(r.x,2*n.symbolHeight,r.z),n.isSpinning)a.getComponent(b).bindData(d(),!0);else if(n.resultData.length<1)2==++i&&(n.isRunning=!1,n.unscheduleAllCallbacks(),n.node.children.sort((function(e,n){return n.position.y-e.position.y})).forEach((function(e,t){var i=e.getComponent(b);i.bindData(i.symbolValue,!1),e.position=new c(0,-n.symbolHeight*t+2*n.symbolHeight,0)})),p(n.node).by(n.bounceDuration,{position:new c(0,-n.bounceDistance,0)}).by(n.bounceDuration,{position:new c(0,n.bounceDistance,0)}).call((function(){e()})).start());else{var l=n.resultData.length-1;a.getComponent(b).bindData(n.resultData[l],!0),n.resultData.splice(l,1)}}}),.016)}},s.stopSpin=function(e){this.resultData=e,this.resultTypes=e.map((function(e){return e.type})),this.isSpinning=!1},s.changeReelSpeed=function(e){this.maxSpeed=this.speeds[e]},n}(h)).prototype,"SymbolPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=n(y.prototype,"bounceDistance",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),v=n(y.prototype,"bounceDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),m=y))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/ResponsiveUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,o,r,s,a,l,c,h,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Node,l=e.view,c=e.Vec3,h=e.sys,v=e.Component}],execute:function(){var d,u,p,w,f,y,g;r._RF.push({},"ec88aETvcxOoKXNfhmjBZEF","ResponsiveUI",void 0);var b=s.ccclass,N=s.property;e("ResponsiveUI",(d=b("ResponsiveUI"),u=N([a]),p=N(a),d((y=i((f=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"ControlPanels",y,o(i)),n(i,"viewNode",g,o(i)),i.isMobile=!1,i}t(i,e);var r=i.prototype;return r.onLoad=function(){this.adjustScreen(),window.addEventListener("resize",this.adjustScreen.bind(this))},r.adjustScreen=function(){var e=l.getFrameSize();if(e.width>e.height){var i=e.width/e.height-1;this.viewNode.scale=i<.6?new c(i+.4,i+.4,1):new c(1,1,1),this.ControlPanels[0].active=!0,this.ControlPanels[1].active=!1,this.viewNode.getChildByName("View").position=new c(0,0,1)}else{var t=e.width>450?450:e.width,n=e.height>950?950:e.height;h.isMobile;var o=Math.floor(t/n*100)/100;this.viewNode.scale=new c(o,o,1),this.viewNode.getChildByName("View").position=new c(0,130,1),this.ControlPanels[0].active=!1,this.ControlPanels[1].active=!0}},r.onDestroy=function(){window.removeEventListener("resize",this.adjustScreen.bind(this))},i}(v)).prototype,"ControlPanels",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=i(f.prototype,"viewNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=f))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/Spark.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,a,n,o,i,s,p,l,c,u,f;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,a=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){o=r.cclegacy,i=r._decorator,s=r.Prefab,p=r.instantiate,l=r.ParticleSystem,c=r.Vec3,u=r.tween,f=r.Component}],execute:function(){var y,d,h,k,P;o._RF.push({},"74838YLDEFFTJTLa61WIfuR","Spark",void 0);var b=i.ccclass,v=i.property;r("Spark",(y=b("Spark"),d=v(s),y((P=e((k=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=r.call.apply(r,[this].concat(o))||this,a(e,"sparkPrefab",P,n(e)),e}return t(e,r),e.prototype.spawnSpark=function(r,e,t,a){if(this.sparkPrefab){var n=p(this.sparkPrefab);this.node.addChild(n),n.setWorldPosition(r);var o=n.getComponent(l);o&&o.play();var i=(r.x+e.x)/2,s=(r.y+e.y)/2+t,f=new c(i,s,r.z);console.log(r,e),u(n).to(a,{},{progress:function(t,a,o,i){var s=o/i,p=(1-s)*(1-s)*r.x+2*(1-s)*s*f.x+s*s*e.x,l=(1-s)*(1-s)*r.y+2*(1-s)*s*f.y+s*s*e.y;return n.setWorldPosition(new c(p,l,r.z)),o}}).call((function(){o&&o.stop(),n.destroy()})).start()}else console.error("Spark Prefab is not assigned!")},e}(f)).prototype,"sparkPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/Splash.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,n,t,o,i,a,s,l,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.ProgressBar,l=e.Label,c=e.director,u=e.Component}],execute:function(){var p,d,h,f,g,S,b;i._RF.push({},"ff6feujmB1MzrMlLoUJsKFm","Splash",void 0);var L=a.ccclass,y=a.property;e("Splash",(p=L("Splash"),d=y(s),h=y(l),p((S=r((g=function(e){function r(){for(var r,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,t(r,"progressBar",S,o(r)),t(r,"loadingLabel",b,o(r)),r.scenesToPreload=["main"],r.currentSceneIndex=0,r}n(r,e);var i=r.prototype;return i.onLoad=function(){this.startLoading()},i.startLoading=function(){this.preloadNextScene()},i.preloadNextScene=function(){var e=this;if(this.currentSceneIndex>=this.scenesToPreload.length)c.loadScene("main");else{var r=this.scenesToPreload[this.currentSceneIndex];c.preloadScene(r,(function(r,n){e.updateProgress(r/n)}),(function(){e.currentSceneIndex++,e.preloadNextScene()}))}},i.updateProgress=function(e){this.progressBar&&(this.progressBar.progress=e),this.loadingLabel&&(this.loadingLabel.string="Loading... "+Math.floor(100*e)+"%")},r}(u)).prototype,"progressBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(g.prototype,"loadingLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/Store.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.extends},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"de154VGIqRGtaFf6Ny40EfV","Store",void 0),t("Store",function(){function t(){this.state=void 0,this.listeners=[],this.selectorListeners=new Map,this.state={betAmount:0}}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var n=t.prototype;return n.getState=function(){return this.state},n.dispatch=function(t){var n=e({},this.state);this.state=this.reducer(this.state,t),this.notifyListeners(n)},n.notifyListeners=function(t){var e=this;this.listeners.forEach((function(t){return t()})),this.selectorListeners.forEach((function(n,s){n.forEach((function(n){n(t)!==n(e.state)&&s()}))}))},n.subscribe=function(t){var e=this;return this.listeners.push(t),function(){e.listeners=e.listeners.filter((function(e){return e!==t}))}},n.subscribeToSelector=function(t,e){var n=this,s=this.selectorListeners.get(e)||[];return s.push(t),this.selectorListeners.set(e,s),e(),function(){var s,r=(null==(s=n.selectorListeners.get(e))?void 0:s.filter((function(e){return e!==t})))||[];0===r.length?n.selectorListeners.delete(e):n.selectorListeners.set(e,r)}},n.reducer=function(t,n){switch(n.type){case"UPDATE_AMOUNT":return e({},t,{betAmount:n.payload});default:return t}},t}()).instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Symbol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Types.ts","./utils.ts","./Store.ts"],(function(t){var e,n,i,o,a,l,s,u,c,r,b,h,m,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.Label,u=t.Node,c=t.tween,r=t.Vec3,b=t.Component},function(t){h=t.BetAmounts},function(t){m=t.renderNumber},function(t){d=t.Store}],execute:function(){var y,p,f,v,g,S,V;a._RF.push({},"b4dbaLOqTlENKY4qP2o3L2/","Symbol",void 0);var A=l.ccclass,L=l.property;t("Symbol",(y=A("Symbol"),p=L(s),f=L(u),y((S=e((g=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))||this).symbolId=void 0,e.symbolValue=void 0,i(e,"SymbolLabel",S,o(e)),i(e,"JackPots",V,o(e)),e.listeners=[],e.betAmount=0,e}n(e,t);var a=e.prototype;return a.start=function(){var t=this;this.listeners.push(d.getInstance().subscribeToSelector((function(t){return t.betAmount}),(function(){t.betAmount=d.getInstance().getState().betAmount,t.updateValue()}))),this.betAmount=d.getInstance().getState().betAmount},a.onDestroy=function(){this.listeners.forEach((function(t){t()}))},a.bindData=function(t,e){this.symbolValue=t,this.symbolId=null==t?void 0:t.type,t&&t.isBonus&&t.value&&!t.isJackpot?this.updateValue():this.SymbolLabel.string="",this.JackPots.children.map((function(e,n){t&&t.isJackpot&&n===t.jackPotType?e.active=!0:e.active=!1})),this.node.getChildByName("Node").children.forEach((function(n,i){n.children[0].active=!1,n.children[1].active=!1,t&&i===t.type?e?n.children[1].active=!0:!1===e&&(n.children[0].active=!0):t||11!==i||(e?n.children[1].active=!0:!1===e&&(n.children[0].active=!0))}))},a.updateValue=function(){console.log(this.betAmount),h[this.betAmount]&&(this.SymbolLabel.string=m(this.symbolValue.value*h[this.betAmount]))},a.addValue=function(t){this.symbolValue&&(this.symbolValue.value?this.symbolValue.value+=t:this.symbolValue.value=t,this.updateValue(),c(this.node.getChildByName("Node")).to(.1,{scale:new r(1.15,1.15,1)},{easing:"bounceIn"}).to(.1,{scale:new r(1,1,1)},{easing:"bounceOut"}).start())},e}(b)).prototype,"SymbolLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(g.prototype,"JackPots",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/Types.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"99bfbNpsWlKhYSfabmXl2YV","Types",void 0);e("SymbolTypes",function(e){return e[e.BONUS=0]="BONUS",e[e.SUNBONUS=1]="SUNBONUS",e[e.WILD=2]="WILD",e[e.Bell=3]="Bell",e[e.Bar=4]="Bar",e[e.Grapes=5]="Grapes",e[e.Watermelon=6]="Watermelon",e[e.Orange=7]="Orange",e[e.lemon=8]="lemon",e[e.Plum=9]="Plum",e[e.Cherries=10]="Cherries",e}({})),e("JackpotTypes",function(e){return e[e.Mini=0]="Mini",e[e.Minor=1]="Minor",e[e.Major=2]="Major",e}({})),e("BetAmounts",[.2,.3,.4,.5,.6,.7,.8,1,1.5,2,3,4,5,7.5,10,20,30,40,50,75,100]),e("PAYLINES",[[1,4,7,10,13],[0,3,6,9,12],[2,5,8,11,14],[0,4,8,10,12],[2,4,6,10,14]]),e("PAYOUTS",{Bell:{3:4,4:10,5:50},Bar:{3:4,4:10,5:50},Watermelon:{3:2.5,4:7.5,5:25},Grapes:{3:2.5,4:7.5,5:25},Orange:{3:1,4:3,5:10},lemon:{3:1,4:3,5:10},Plum:{3:1,4:3,5:10},Cherries:{3:1,4:3,5:10}});r._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["cc","./Types.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.SymbolTypes}],execute:function(){t._RF.push({},"dad2e5Uo1dCN6vovBVTL0Wj","utils",void 0);var u=function(e,t){return Math.floor(Math.random()*(t-e))+e};e("generateRandomSymbol",(function(){var e=Object.keys(n).length/2,t=u(0,e);return t===n.BONUS?{type:t,isBonus:!0,value:u(1,10)}:{type:t}})),e("getRandomBonusSymbol",(function(e){var t=u(0,6);return 2===e?null:6===t?{type:n.SUNBONUS}:t>4?{type:n.BONUS,isBonus:!0,value:u(1,10)}:null})),e("renderNumber",(function(e){return e.toFixed(2)}));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});